# 编译原理大作业主要思路及问题
目前考虑的目标主要到生成抽象语法分析树，也就是课本2-4章的内容。下面从三个方面来说。

## 词法分析
这部分应该是最简单的部分，直接实现词法分析就可以。主要的功能以及要求如下：

 1. 能够识别关键字、操作符以及标识符等单词符号(token)等，并返回信息；
 2. 遇到数字或字符串时能够将值返回；
 3. 记录每个单词符号的位置信息；
 4. 最好能在遇到错误时进行错误处理；

其中，1，2部分我已经完成，但是并没有进行过调试所以可能会有些问题，还有一些已知的Bug，3,4部分我还没有写。
已知BUG：
 1. 对于带双引号的字符串没有识别转义字符同时无法识别字符串中带有双引号的情况；
 2. 没有识别注释的部分。

词法分析部分的实现主要在 [tiger.lex](../source/tiger.lex) 文件中。

## 语法分析
语法分析的内容较多，主要功能以及要求如下：

 1. 写出 Tiger 语言的上下文无关文法；
 2. 根据上下文无关文法进行单词符号的定义以及值的约束；
 3. 根据上下文无关文法实现语法识别；
 4. 根据识别得到的信息调用接口构建抽象语法分析树；
 5. 记录错误信息并对错误进行处理。

这部分我没有写多少内容，只是定义了单词符号（还没写完），写了两句识别语句，仅供参考。
词法分析部分的实现主要在 [tiger.y](../source/tiger.y) 文件中。

## 构建抽象语法分析树
这部分的主要功能和要求如下：

 1. 根据上下文无关文法，定义表示树节点的数据结构；
 2. 完成节点的构造函数；

对于这一部分，书上给出了 Tiger 语言的抽象语法构造函数的定义，然后我照着他那个写了一些，但是并没有太明白，在考虑我们要不要重新写一下。也是仅供参考。
这部分的实现主要在 [absyn.h](../source/absyn.h) 和 [absyn.c](../source/absyn.c) 文件中。
## 一些待讨论的问题
这里有一些我想到的待讨论的问题，如果有想到其他的也一并添加到这里好了。
 1. 上下文无关文法，我们是不是需要写一个出来，方便之后参考；
 2. 我们写这个大程，是一部分一部分写，写完再整合，还是先写一小点但是是整体的，然后不断的迭代更新（我觉得第二种比较好）。
 3. 急需一个命名规范，不然等整合的时候一定会很麻烦，因为我一个人看我自己的代码就已经很烦了QAQ。
 4. 在写抽象语法的时候，发现涉及到一些符号表的东西，这边我还没看，需要讨论一下。
